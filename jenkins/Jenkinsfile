pipeline {
    agent {
      docker {
          image 'oven/bun:1.2'
      }
    }

    stages {
      stage('Check building environment') {
        steps {
          sh 'ls -lah'
          sh 'echo $PWD'
          sh 'env'
        }
      }

      stage('Build') {
        steps {
          sh 'bun install'
        }
      }
      stage('Test') {
        steps {
          sh 'bun test'
        }
      }
      stage('Deploy') {
        steps {
          echo 'Deploying....'
        }
      }
    }
}
